---
import Navigation from '../../components/Navigation.astro';
import Footer from '../../components/Footer.astro';
import '../../styles/global.css';
---
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="viewport" content="width=device-width" />
		<meta name="generator" content={Astro.generator} />
		<title>INL</title>
	</head>
	<body>
		<Navigation />
		
		<h1>Styling Battle Scoring</h1>
		
		<h2>Disclaimers</h2>
		
		<p>
			This formula is <b>only an estimate based on the results I got in-game</b>, I do not have access to the game’s code to confirm its validity. Additionally, this estimation only holds true when <b>all scoring nodes in the Heart of Infinity are unlocked.</b>
		</p>
		
		<p>
			If you haven’t unlocked any scoring nodes in the Heart of Infinity yet and would be willing to do some data collection, please shoot me (neptunya) a DM on Discord
		</p>
		
		<h2>How are styling battles scored?</h2>
		
		<p>
			The score of any clothing item <b>except Eurekas</b> in a styling battle can be estimated by the below formula, assuming all scoring nodes in the Heart of Infinity are unlocked.
		</p>
		
		<math xmlns="http://www.w3.org/1998/Math/MathML">
			<mrow>
				<mi>Item&nbsp;Score</mi>
				<mo>=</mo>
				<mo>(</mo>
				<mi>Recommended&nbsp;Attribute&nbsp;Value</mi>
				<mo>&#xD7;</mo>
				<mn>3.7</mn>
				<mo>)</mo>
				<mo>+</mo>
				<mo>(</mo>
				<mo>&#x2211;</mo>
				<mi>Other&nbsp;Attribute&nbsp;Values</mi>
				<mo>&#xD7;</mo>
				<mn>0.336</mn>
				<mo>)</mo>
			</mrow>
		  </math>
		  
		<h3>In plain language:</h3>
		
		<p>
			An item’s score in a styling battle is calculated by multiplying the recommended attribute’s value by 3.7 and adding that with the sum of the other attribute’s values, each multiplied by 0.336.
		</p>
		
		<h2>How was this formula derived?</h2>
		
		<p>
			I used round 1 of Mira Crown Wishfield styling challenge, where the recommended attribute was sweet. I unequipped everything and just chose a dress and hair and noted down the attribute values for each piece. Then, I went through the styling battle, noting down the score I got for the clothing and hair category, which I did with all the dress and hair options I had available.
		</p>
		
		<p>
		  I modeled the scoring formula as:
		</p>
		
		<math xmlns="http://www.w3.org/1998/Math/MathML">
			<mrow>
				<mi>Item&nbsp;Score</mi>
				<mo>=</mo>
				<mo>&#x2211;</mo>
				<mo>(</mo>
				<mi>Attribute&nbsp;Value</mi>
				<mo>&#xD7;</mo>
				<mn>Attribute&nbsp;Weight</mn>
				<mo>)</mo>
			</mrow>
		</math>
		
		<p>
			To determine each attribute's weight, I applied the least squares method using the equations from all available scores.
		</p>
		
		<code>
			data = pd.read_csv('./csv/IN Data.csv')<br>
			attributes = data[['Elegant', 'Fresh', 'Sweet', 'Sexy', 'Cool']].values<br>
			sweet_scores = data['Sweet Score'].values<br>
			weights, _, _, _ = np.linalg.lstsq(attributes, sweet_scores, rcond=None)<br>
			print(weights)<br><br>
			[0.33584481 0.33704082 3.69803792 0.33638204 0.33578301]
		</code>
		
		<Footer />
	</body>
</html>